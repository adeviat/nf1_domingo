(this["webpackJsonpdomingo-bo"]=this["webpackJsonpdomingo-bo"]||[]).push([[0],{315:function(e,t,a){e.exports=a(484)},320:function(e,t,a){},484:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),s=(a(320),a(562)),i=a(561),u=a(280),l=a(118),p=a(61),d=a(85),m=a.n(d),f=function(e,t){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a={method:"POST",body:JSON.stringify(t),headers:new Headers({Accept:"application/json","Content-type":"application/json"}),mode:"cors"},n.abrupt("return",fetch("http://127.0.0.1/"+e,a).then((function(e){return 200===e.status?(console.log(e.statusText),e.json()):(console.log(e.statusText),Promise.reject(e.status))})));case 2:case"end":return n.stop()}}))},h="http://127.0.0.1:80/api",E=l.a.fetchJson,g={getList:function(e,t){switch(e){case"products":var a=t.pagination,n=a.page,r=a.perPage,o=t.sort,c=o.field,s=o.order,i={sort:JSON.stringify([c,s]),range:JSON.stringify([(n-1)*r,n*r-1]),filter:JSON.stringify(t.filter)},u=h+"/"+e+"?"+Object(p.stringify)(i);return E(u).then((function(e){e.headers;var t=e.json;return{data:t.products,total:t.numOfProducts}}));case"stores":var l=t.pagination,d=l.page,m=l.perPage,f=t.sort,g=f.field,j=f.order;JSON.stringify([g,j]),JSON.stringify([(d-1)*m,d*m-1]),JSON.stringify(t.filter);return E("http://127.0.0.1:80/api/store/1").then((function(e){e.headers;var t=e.json;return{data:t.stores,total:t.totalStores}}))}},create:function(e,t){switch(e){case"products":var a={name:t.data.name,description:t.data.description,price:t.data.price,photo:t.data.photo,store_id:1};return f("api/product/create",a).then((function(e){return{data:Object(u.a)({},t.data,{id:e.id})}})).catch((function(e){console.log(e)}))}},update:function(e,t){return function(e,t){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a={method:"PUT",body:JSON.stringify(t),headers:new Headers({Accept:"application/json","Content-type":"application/json"}),mode:"cors"},n.abrupt("return",fetch("http://127.0.0.1/"+e,a).then((function(e){return 200===e.status?(console.log(e.statusText),e.json()):(console.log(e.statusText),Promise.reject(e.status))})));case 2:case"end":return n.stop()}}))}("api/product/update",{id:t.data.id,name:t.data.name,description:t.data.description,price:t.data.price,photo:t.data.photo,store_id:1}).then((function(e){return{data:e.product}})).catch((function(e){console.log(e)}))},getOne:function(e,t){return function(e){var t,a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={method:"GET",headers:new Headers({Accept:"application/json","Content-type":"application/json"}),mode:"cors"},r.next=3,m.a.awrap(fetch("http://127.0.0.1/"+e,t).then((function(e){if(200===e.status)return console.log(e.statusText),e;console.log(e.statusText),Promise.reject(e.status)})));case 3:return a=r.sent,r.next=6,m.a.awrap(a.json());case 6:return n=r.sent,r.abrupt("return",n);case 8:case"end":return r.stop()}}))}("api/product/"+t.id).then((function(e){return{data:e}}))},delete:function(e,t){return function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={method:"DELETE",headers:new Headers({Accept:"application/json","Content-type":"application/json"}),mode:"cors"},a.abrupt("return",fetch("http://127.0.0.1/"+e,t).then((function(e){return 200===e.status?(console.log(e.statusText),e.json()):(console.log(e.statusText),Promise.reject(e.status))})));case 2:case"end":return a.stop()}}))}("api/product/"+t.id).then((function(e){return{data:e.json}}))}},j=a(537),v=a(487),w=a(540),y=function(){return r.a.createElement(j.a,null,r.a.createElement(w.a,{title:"Welcome to Domingo Store Managment"}),r.a.createElement(v.a,null,"On this platform, you can manage your store "))},O={login:function(e){var t=e.username,a=e.password;return f("api/user/login",{email:t,password:a}).then((function(e){var t=e.token;localStorage.setItem("token",t)}))},logout:function(){return localStorage.removeItem("token"),Promise.resolve()},checkAuth:function(){return localStorage.getItem("token")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.resolve()}},P=a(278),b=a(564),x=a(563),S=a(552),T=a(553),J=a(554),k=a(570),N=a(565),A=a(571),C=a(558),H=function(e){return r.a.createElement(P.a,Object.assign({rowsPerPageOptions:[]},e))},I=function(e){return r.a.createElement(b.a,Object.assign({},e,{title:"Stores",pagination:r.a.createElement(H,null)}),r.a.createElement(x.a,null,r.a.createElement(S.a,{source:"id"}),r.a.createElement(S.a,{source:"name"}),r.a.createElement(S.a,{source:"address"}),r.a.createElement(S.a,{source:"postcode"}),r.a.createElement(T.a,null),r.a.createElement(J.a,null)))},W=function(e){return r.a.createElement(k.a,e,r.a.createElement(N.a,null,r.a.createElement(S.a,{source:"name"}),r.a.createElement(S.a,{source:"address"}),r.a.createElement(S.a,{source:"postcode"})))},B=function(e){return r.a.createElement(A.a,Object.assign({title:"name"},e),r.a.createElement(C.a,null,r.a.createElement(S.a,{source:"id"}),r.a.createElement(S.a,{source:"name"}),r.a.createElement(S.a,{source:"address"}),r.a.createElement(S.a,{source:"postcode"}),r.a.createElement(J.a,null)))},D=a(559),L=a(572),_=a(566),G=function(e){return r.a.createElement(P.a,Object.assign({rowsPerPageOptions:[]},e))},M=function(e){return r.a.createElement(b.a,Object.assign({},e,{title:"Products",pagination:r.a.createElement(G,null)}),r.a.createElement(x.a,null,r.a.createElement(S.a,{source:"id"}),r.a.createElement(S.a,{source:"name"}),r.a.createElement(S.a,{source:"description"}),r.a.createElement(S.a,{source:"price"}),r.a.createElement(D.a,{source:"photo"}),r.a.createElement(J.a,null)))},U=function(e){return r.a.createElement(L.a,e,r.a.createElement(N.a,null,r.a.createElement(_.a,{source:"name"}),r.a.createElement(_.a,{source:"price"}),r.a.createElement(_.a,{source:"description"}),r.a.createElement(_.a,{source:"photo"})))},$=function(e){return r.a.createElement(k.a,e,r.a.createElement(N.a,null,r.a.createElement(_.a,{source:"name"}),r.a.createElement(_.a,{source:"price"}),r.a.createElement(_.a,{source:"description"}),r.a.createElement(_.a,{source:"photo"})))},q=function(){return r.a.createElement(s.a,{dashboard:y,authProvider:O,dataProvider:g},r.a.createElement(i.a,{name:"stores",list:I,edit:W,show:B}),r.a.createElement(i.a,{name:"products",list:M,create:U,edit:$}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[315,1,2]]]);
//# sourceMappingURL=main.c8b182fb.chunk.js.map